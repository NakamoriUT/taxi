# 配送ルート最適化システム

## 概要
車両の積載量を考慮した配送ルート最適化システム。荷物量が車両容量を超える場合は、自動的に複数回に分割して配送します。

## 主な機能
- 📍 複数配送先の最適ルート計算
- 🚚 車両容量を超える荷物の自動分割配送
- 🗺️ 地図上でのルート表示とアニメーション
- ⚡ リアルタイムバリデーション
- 🔄 デポへの自動補充ルート生成

## セットアップ

### 1. 必要なソフトウェア
- Python 3.8以上
- pip（Pythonパッケージマネージャー）

### 2. インストール
```bash
# リポジトリをクローン
git clone https://github.com/NakamoriUT/taxi.git
cd taxi

# 依存関係をインストール
pip install -r requirements.txt
```

### 3. 起動方法
```bash
python app.py
```

ブラウザで http://localhost:5000 にアクセス

## 使い方

1. **出発地点を設定**
   - 住所を入力して「住所を確認」をクリック
   - または「地図で選択」で地図上をクリック

2. **配送先を追加**
   - 住所と荷物量を入力
   - 必要に応じて時間帯や優先度を設定

3. **車両を設定**
   - 車両名と積載量を設定
   - 複数車両の追加も可能

4. **ルート最適化**
   - 「ルートを最適化」ボタンをクリック
   - 荷物量が車両容量を超える場合は自動的に分割

## 分割配送機能
荷物量が車両の積載量を超える場合、システムは自動的に：
- 配送を複数回に分割
- 各配送間でデポに戻って補充
- 最適なルートを再計算

例：荷物量250、車両容量100の場合
→ 100 + 100 + 50の3回に分けて配送

## 技術スタック
- Backend: Python Flask
- Frontend: JavaScript, Leaflet.js
- 最適化: Google OR-Tools
- 地図: OpenStreetMap

## ライセンス
MIT License